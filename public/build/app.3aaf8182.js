(self.webpackChunk=self.webpackChunk||[]).push([[524],{8579:(e,t,n)=>{var o={"./hello_controller.js":2748};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=8579},2882:(e,t,n)=>{"use strict";n(2675),n(9463),n(8706),n(1629),n(2062),n(9868),n(6099),n(8459),n(3500);var o=n(1132),r=n(1225),i=o.lg.start(),a=n(8579);i.load((0,r.Ux)(a)),document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("hamburger-button"),t=document.getElementById("sidebarMenu");e.addEventListener("click",(function(){t.classList.contains("sideBarVisible")?(t.classList.remove("sideBarVisible"),t.classList.add("sideBarHidden")):(t.classList.add("sideBarVisible"),t.classList.remove("sideBarHidden"))}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".menu-item > a").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=this.nextElementSibling;t.classList.contains("sub-menu-visible")?(t.classList.remove("sub-menu-visible"),this.querySelector(".toggle-arrow").innerHTML="&#9660;"):(t.classList.add("sub-menu-visible"),this.querySelector(".toggle-arrow").innerHTML="&#9650;")}))})),document.querySelectorAll(".sub-menu a").forEach((function(e){e.addEventListener("click",(function(e){e.stopPropagation()}))}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".needs-confirmation").forEach((function(e){e.addEventListener("click",(function(e){confirm("Êtes-vous sûr de vouloir supprimer cet élément ? Cette action est irréversible. Continuer ?")||e.preventDefault()}))}))})),window.removeImage=function(){document.querySelector(".form-control-file").value="",document.getElementById("imagePreview").innerHTML=""};var c=document.querySelector(".form-control-file");if(null!==c&&c.addEventListener("change",(function(e){var t=e.target.files;if(t.length>0){var n=t[0],o=new FileReader;o.onload=function(e){document.getElementById("imagePreview").innerHTML='<img src="'.concat(e.target.result,'" class="previewImage" alt="Preview"><button type="button" onclick="window.removeImage()">Supprimer image</button>')},o.readAsDataURL(n)}else document.getElementById("imagePreview").innerHTML=""})),null!==document.getElementById("map")){var u=function(e){return L.divIcon({className:"custom-svg-icon",html:'<img src="'.concat(e,'" width="32" height="32">'),iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]})};console.log("ok map");var l=L.map("map").setView([48.7689,2.09454],14);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(l),L.marker([48.7689,2.09454]).addTo(l).bindPopup("Site du festival").openPopup();var s=L.latLng(48.7689,2.09454),d=L.control({position:"topright"});d.onAdd=function(e){var t=L.DomUtil.create("div","leaflet-bar leaflet-control");return t.innerHTML='<button id="returnToTarget">Retour Festival</button>',t},d.addTo(l);var f=L.control({position:"topright"}),m=null;f.onAdd=function(e){var t=L.DomUtil.create("div","leaflet-bar leaflet-control");return t.innerHTML='<button id="locateUserButton">Localiser Utilisateur</button>',t},f.addTo(l),mapPoints.forEach((function(e){var t=parseFloat(e.latitude),n=parseFloat(e.longitude),o="/images/icons/"+e.img;console.log(o),L.marker([t,n],{icon:u(o)}).addTo(l).bindPopup("<b>".concat(e.title,"</b><br>").concat(e.description))})),l.on("contextmenu",(function(e){var t=parseFloat(e.latlng.lat).toFixed(7),n=parseFloat(e.latlng.lng).toFixed(7);console.log(t+", "+n);var o=document.getElementById("map_point_entity_Latitude"),r=document.getElementById("map_point_entity_Longitude");o.value=t,r.value=n})),document.getElementById("returnToTarget").addEventListener("click",(function(){l.setView(s,14)})),document.getElementById("locateUserButton").onclick=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var t=L.latLng(e.coords.latitude,e.coords.longitude);l.setView(t,14),m?m.setLatLng(t):m=L.marker(t).addTo(l),m.bindPopup("Votre position").openPopup()}),(function(e){console.error("Erreur de géolocalisation : ",e.message)})):alert("La géolocalisation n'est pas prise en charge par votre navigateur.")}}},2748:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});n(2675),n(9463),n(2259),n(5700),n(6280),n(6918),n(3792),n(9572),n(4170),n(2892),n(9904),n(4185),n(875),n(287),n(6099),n(825),n(7764),n(2953);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,i(o.key),o)}}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function a(e,t,n){return t=u(t),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(t,e),n=t,(o=[{key:"connect",value:function(){this.element.textContent="Hello Stimulus! Edit me in assets/controllers/hello_controller.js"}}])&&r(n.prototype,o),i&&r(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(n(2891).xI)}},e=>{e.O(0,[572],(()=>{return t=2882,e(e.s=t);var t}));e.O()}]);